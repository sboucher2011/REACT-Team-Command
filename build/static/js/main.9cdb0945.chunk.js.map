{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/ProjectFilter.js","pages/dashboard/dashboard.js","pages/signup/signup.js","hooks/useSignup.js","pages/login/login.js","hooks/useLogin.js","hooks/useFirestore.js","pages/create/create.js","hooks/useDocument.js","pages/project/ProjectComments.js","pages/project/projectSummary.js","pages/project/project.js","hooks/useLogout.js","assets/temple.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","Avatar","src","className","alt","ProjectList","projects","length","map","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","filterList","ProjectFilter","changeFilter","currentFilter","setCurrentFilter","f","onClick","newFilter","Dashboard","filter","setFilter","document","assignedToMe","u","uid","category","Signup","email","setEmail","password","setPassword","displayName","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","isCancelled","setIsCancelled","isPending","setIsPending","signup","a","createUserWithEmailAndPassword","res","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","online","message","useSignup","onSubmit","e","preventDefault","required","onChange","target","selected","files","includes","size","disabled","Login","login","signInWithEmailAndPassword","documentRef","update","useLogin","initialState","success","firestoreReducer","useFirestore","response","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","add","addedDocument","deleteDocument","delete","updateDocument","updates","updatedDocument","categories","label","Create","history","useHistory","users","setUsers","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","handleSubmit","createdBy","comments","option","options","isMulti","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","ProjectSummary","Project","setDocument","err","useDocument","useParams","Navbar","logout","signOut","useLogout","Temple","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9cdb0945.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\"\nimport \"firebase/compat/firestore\"\nimport \"firebase/compat/storage\"\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAOu8UEsx6kVj9TFgw9_8xEhtnTodEby0w\",\n    authDomain: \"teamproject-eab77.firebaseapp.com\",\n    projectId: \"teamproject-eab77\",\n    storageBucket: \"teamproject-eab77.appspot.com\",\n    messagingSenderId: \"832030859725\",\n    appId: \"1:832030859725:web:a1160f71302c3b90036484\"\n  };\n\n  //init firebase\n  firebase.initializeApp(firebaseConfig);\n\n  //int services\n  const projectFirestore = firebase.firestore();\n  const projectAuth = firebase.auth();\n  const projectStorage = firebase.storage();\n\n  // timestamp\n  const timestamp = firebase.firestore.Timestamp;\n\n  export {projectFirestore, projectAuth, timestamp, projectStorage}","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","// styles\nimport './Avatar.css'\n\nexport default function Avatar({ src }) {\n  return (\n    <div className=\"avatar\">\n      <img src={src} alt=\"user avatar\" />\n    </div>\n  )\n}","import { Link } from 'react-router-dom'\nimport Avatar from '../components/Avatar'\n\n// styles\nimport './ProjectList.css'\n\nexport default function ProjectList({ projects }) {\n  console.log(projects)\n\n  return (\n    <div className=\"project-list\">\n      {projects.length === 0 && <p>No projects yet!</p>}\n      {projects.map(project => (\n        <Link to={`/projects/${project.id}`} key={project.id}>\n          <h4>{project.name}</h4>\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\n          <div className=\"assigned-to\">\n            <p><strong>Assigned to:</strong></p>\n            <ul>\n              {project.assignedUsersList.map(user => (\n                <li key={user.photoURL}>\n                  <Avatar src={user.photoURL} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Link>\n      ))}\n    </div>\n  )\n}","import { useState } from 'react'\n\nconst filterList = ['all', 'mine', 'development', 'design', 'marketing', 'sales']\n\nexport default function ProjectFilter({ changeFilter }) {\n  const [currentFilter, setCurrentFilter] = useState('all')\n\n  const handleClick = (newFilter) => {\n    setCurrentFilter(newFilter)\n    changeFilter(newFilter)\n  }\n\n  return (\n    <div className=\"project-filter\">\n      <nav>\n        <p>Filter by: </p>\n        {filterList.map((f) => (\n          <button key={f}\n            onClick={() => handleClick(f)}\n            className={currentFilter === f ? 'active' : ''}\n          >{f}</button>\n        ))}\n      </nav>\n    </div>\n  )\n}","import { useCollection } from '../../hooks/useCollection'\nimport { useState } from 'react'\nimport { useAuthContext } from '../../hooks/useAuthContext'\n\n// components\nimport ProjectList from '../../components/ProjectList'\nimport ProjectFilter from './ProjectFilter'\n\n// styles\nimport './dashboard.css'\n\nexport default function Dashboard() {\n  const { user } = useAuthContext()\n  const { documents, error } = useCollection('projects')\n  const [filter, setFilter] = useState('all')\n\n  const changeFilter = (newFilter) => {\n    setFilter(newFilter)\n  }\n  \n  const projects = documents ? documents.filter(document => {\n    switch(filter) {\n      case 'all':\n        return true\n      case 'mine':\n        let assignedToMe = false\n        document.assignedUsersList.forEach(u => {\n          if(u.id === user.uid) {\n            assignedToMe = true\n          }\n        })\n        return assignedToMe\n      case 'development':\n      case 'design':\n      case 'sales':\n      case 'marketing':\n        console.log(document.category, filter)\n        return document.category === filter\n      default:\n        return true\n    }\n  }) : null\n\n  return (\n    <div>\n      <h2 className=\"page-title\">Dashboard</h2>\n      {error && <p className=\"error\">{error}</p>}\n      {documents && <ProjectFilter changeFilter={changeFilter} />}\n      {projects && <ProjectList projects={projects} />}\n    </div>\n  )\n}","import { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\n// styles\nimport './signup.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const [thumbnail, setThumbnail] = useState(null)\n  const [thumbnailError, setThumbnailError] = useState(null)\n  const { signup, isPending, error } = useSignup()\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName, thumbnail)\n  }\n\n  const handleFileChange = (e) => {\n    setThumbnail(null)\n    let selected = e.target.files[0]\n    console.log(selected)\n\n    if (!selected) {\n      setThumbnailError('Please select a file')\n      return\n    }\n    if (!selected.type.includes('image')) {\n      setThumbnailError('Selected file must be an image')\n      return\n    }\n    if (selected.size > 100000) {\n      setThumbnailError('Image file size must be less than 100kb')\n      return\n    }\n    \n    setThumbnailError(null)\n    setThumbnail(selected)\n    console.log('thumbnail updated')\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <h2>sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          required\n          type=\"text\" \n          onChange={(e) => setDisplayName(e.target.value)} \n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile thumbnail:</span>\n        <input \n          required\n          type=\"file\"\n          onChange={handleFileChange}\n        />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && <button className=\"btn\" disabled>Loading</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectStorage, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n\n      // upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      const imgUrl = await img.ref.getDownloadURL()\n\n      // add display name to user\n      await res.user.updateProfile({ displayName, photoURL: imgUrl })\n\n      // create a user document\n      await projectFirestore.collection('users').doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl\n      })\n      \n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { signup, error, isPending }\n}","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\n// styles\nimport './login.css'\n\nexport default function Login() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const { login, error, isPending } = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <h2>login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email} \n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          required\n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password} \n        />\n      </label>\n      {!isPending && <button className=\"btn\">Log in</button>}\n      {isPending && <button className=\"btn\" disabled>loading</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n      // update online status\n      const documentRef = projectFirestore.collection('users').doc(res.user.uid)\n      await documentRef.update({ online: true })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","import { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    case \"UPDATED_DOCUMENT\":\n      return { isPending: false, document: action.payload, success: true,  error: null }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection ref\n  const ref = projectFirestore.collection(collection)\n\n  // only dispatch if not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n  \n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n\n  // update a document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: \"IS_PENDING\" })\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({ type: \"UPDATED_DOCUMENT\", payload: updatedDocument })\n      return updatedDocument\n    } \n    catch (error) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: error })\n      return null\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument, response }\n\n}","import { useState, useEffect } from 'react'\nimport { useCollection } from '../../hooks/useCollection'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { timestamp } from '../../firebase/config'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport { useHistory } from 'react-router-dom'\nimport Select from 'react-select'\n\n// styles\nimport './create.css'\n\nconst categories = [\n  { value: 'development', label: 'Development' },\n  { value: 'design', label: 'Design' },\n  { value: 'sales', label: 'Sales' },\n  { value: 'marketing', label: 'Marketing' },\n]\n\nexport default function Create() {\n  const history = useHistory()\n  const { addDocument, response } = useFirestore('projects')\n  const { user } = useAuthContext()\n  const { documents } = useCollection('users')\n  const [users, setUsers] = useState([])\n\n  // form field values\n  const [name, setName] = useState('')\n  const [details, setDetails] = useState('')\n  const [dueDate, setDueDate] = useState('')\n  const [category, setCategory] = useState('')\n  const [assignedUsers, setAssignedUsers] = useState([])\n  const [formError, setFormError] = useState(null)\n\n  // create user values for react-select\n  useEffect(() => {\n    if(documents) {\n      setUsers(documents.map(user => {\n        return { value: {...user, id: user.id}, label: user.displayName }\n      }))\n    }\n  }, [documents])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setFormError(null)\n\n    if (!category) {\n      setFormError('Please select a project category.')\n      return\n    }\n    if (assignedUsers.length < 1) {\n      setFormError('Please assign the project to at least 1 user')\n      return\n    }\n\n    const assignedUsersList = assignedUsers.map(u => {\n      return { \n        displayName: u.value.displayName, \n        photoURL: u.value.photoURL,\n        id: u.value.id\n      }\n    })\n    const createdBy = { \n      displayName: user.displayName, \n      photoURL: user.photoURL,\n      id: user.uid\n    }\n\n    const project = {\n      name,\n      details,\n      assignedUsersList, \n      createdBy,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      comments: []\n    }\n\n    await addDocument(project)\n    if (!response.error) {\n      history.push('/')\n    }\n  }\n\n  return (\n    <div className=\"create-form\">\n      <h2 className=\"page-title\">Create a new Project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input\n            required \n            type=\"text\" \n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Project Details:</span>\n          <textarea \n            required\n            onChange={(e) => setDetails(e.target.value)}\n            value={details} \n          ></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input\n            required \n            type=\"date\" \n            onChange={(e) => setDueDate(e.target.value)} \n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select\n            onChange={(option) => setCategory(option)}\n            options={categories}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            onChange={(option) => setAssignedUsers(option)}\n            options={users}\n            isMulti\n          />\n        </label>\n\n        <button className=\"btn\">Add Project</button>\n\n        {formError && <p className=\"error\">{formError}</p>}\n      </form>\n    </div>\n  )\n}","import { useEffect, useState } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useDocument = (collection, id) => {\n  const [document, setDocument] = useState(null)\n  const [error, setError] = useState(null)\n\n  // realtime document data\n  useEffect(() => {\n    const ref = projectFirestore.collection(collection).doc(id)\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      // need to make sure the doc exists & has data\n      if(snapshot.data()) {\n        setDocument({...snapshot.data(), id: snapshot.id})\n        setError(null)\n      }\n      else {\n        setError('No such document exists')\n      }\n    }, err => {\n      console.log(err.message)\n      setError('failed to get document')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, id])\n\n  return { document, error }\n}","import { useState } from \"react\"\nimport { timestamp } from \"../../firebase/config\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport Avatar from \"../../components/Avatar\"\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nexport default function ProjectComments({ project }) {\n  const { user } = useAuthContext()\n  const { updateDocument, response } = useFirestore('projects')\n  const [newComment, setNewComment] = useState('')\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const commentToAdd = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      content: newComment,\n      createdAt: timestamp.fromDate(new Date()),\n      id: Math.random()\n    }\n    \n    await updateDocument(project.id, {\n      comments: [...project.comments, commentToAdd],\n    })\n    if (!response.error) {\n      setNewComment('')\n    }\n  }\n\n  return (\n    <div className=\"project-comments\">\n      <h4>Project Comments</h4>\n\n      <ul>\n        {project.comments.length > 0 && project.comments.map(comment => (\n          <li key={comment.id}>\n            <div className=\"comment-author\">\n              <Avatar src={comment.photoURL} />\n              <p>{comment.displayName}</p>\n            </div>\n            <div className=\"comment-date\">\n              <p>{formatDistanceToNow(comment.createdAt.toDate(), {addSuffix: true})}</p>\n            </div>\n            <div className=\"comment-content\">\n              <p>{comment.content}</p>\n            </div>\n          </li>\n        ))}\n      </ul>\n\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\n        <label>\n          <span>Add new comment:</span>\n          <textarea \n            onChange={(e) => setNewComment(e.target.value)}\n            value={newComment}\n          ></textarea>\n        </label>\n        <button className=\"btn\">Add Comment</button>\n      </form>\n    </div>\n  )\n}","import Avatar from \"../../components/Avatar\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport { useHistory } from 'react-router-dom'\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\n\nexport default function ProjectSummary({ project }) {\n  const { deleteDocument } = useFirestore('projects')\n  const { user } = useAuthContext()\n  const history = useHistory()\n\n  const handleClick = () => {\n    deleteDocument(project.id)\n    history.push('/')\n  }\n\n  return (\n    <div>\n      <div className=\"project-summary\">\n        <h2 className=\"page-title\">{project.name}</h2>\n        <p>By {project.createdBy.displayName}</p>\n        <p className=\"due-date\">\n          Project due by {project.dueDate.toDate().toDateString()}\n        </p>\n        <p className=\"details\">\n          {project.details}\n        </p>\n        <h4>Project assigned to:</h4>\n        <div className=\"assigned-users\">\n          {project.assignedUsersList.map(user => (\n            <div key={user.id}>\n              <Avatar src={user.photoURL} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {user.uid === project.createdBy.id && (\n        <button className=\"btn\" onClick={handleClick}>Mark as Complete</button>\n      )}\n    </div>\n  )\n}","import { useParams } from \"react-router-dom\"\nimport { useDocument } from '../../hooks/useDocument'\n\n// components\nimport ProjectComments from \"./ProjectComments\"\nimport ProjectSummary from \"./projectSummary\"\n\n// styles\nimport './project.css'\n\nexport default function Project() {\n  const { id } = useParams()\n  const { document, error } = useDocument('projects', id)\n\n  if (error) {\n    return <div className=\"error\">{error}</div>\n  }\n  if (!document) {\n    return <div className=\"loading\">Loading...</div>\n  }\n\n  return (\n    <div className=\"project-details\">\n      <ProjectSummary project={document} />\n      <ProjectComments project={document} />\n    </div>\n  )\n}","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n  \n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      // update user online status\n      const { uid } = user \n      await projectFirestore.collection('users').doc(uid).update({online: false})\n\n      // sign the user out\n      await projectAuth.signOut()\n      \n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      } \n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// styles & images\nimport './Navbar.css'\nimport Temple from '../assets/temple.svg'\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout()\n  const { user } = useAuthContext()\n\n  return (\n    <nav className=\"navbar\">\n      <ul>\n        {!user && (\n          <>\n            <li className=\"logo\">\n              <img src={Temple} alt=\"dojo logo\" />\n              <span>The Dojo</span>\n            </li>\n\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n\n        {user && (\n          <li>\n            {!isPending && <button className=\"btn\" onClick={logout}>Logout</button>}\n            {isPending && <button className=\"btn\" disabled>Logging out...</button>}\n          </li>\n        )}\n      </ul>\n    </nav>\n  )\n}","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\"\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// components\nimport Avatar from \"./Avatar\"\n\n// styles & images\nimport \"./Sidebar.css\"\nimport DashboardIcon from '../assets/dashboard_icon.svg'\nimport AddIcon from '../assets/add_icon.svg'\n\nexport default function Sidebar() {\n  const { user } = useAuthContext() \n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          <Avatar src={user.photoURL} />\n          <p>Hey {user.displayName}</p>  \n        </div>  \n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink exact to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"add project icon\" />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  )\n}","import { useCollection } from '../hooks/useCollection'\n\n// components\nimport Avatar from './Avatar'\n\n// styles\nimport './OnlineUsers.css'\n\nexport default function OnlineUsers() {\n  const { isPending, error, documents } = useCollection('users')\n\n  return (\n    <div className=\"user-list\">\n      <h2>All Users</h2>\n      {isPending && <div>Loading users...</div>}\n      {error && <div>{error}</div>}\n      {documents && documents.map(user => (\n        <div key={user.id} className=\"user-list-item\">\n            {user.online && <span className=\"online-user\"></span>}\n            <span>{user.displayName}</span>\n            <Avatar src={user.photoURL} />\n        </div>\n      ))}\n    </div>\n  )\n}","import { BoundFunction, BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\n// styles\nimport './App.css'\n\n// pages\nimport Dashboard from './pages/dashboard/dashboard';\nimport Signup from './pages/signup/signup';\nimport Login from './pages/login/login';\nimport Create from './pages/create/create';\nimport Project from './pages/project/project';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers';\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n        {user && <Sidebar/> }\n          <div className=\"container\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Dashboard />}\n              </Route>\n              <Route path=\"/create\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Create />}\n              </Route>\n              <Route path=\"/projects/:id\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Project />}\n              </Route>\n              <Route path=\"/signup\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Signup />}\n              </Route>\n              <Route path=\"/login\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Login />}\n              </Route>\n            </Switch>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}